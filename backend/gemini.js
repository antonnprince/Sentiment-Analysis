import { Groq } from 'groq-sdk';
import dotenv from 'dotenv'

dotenv.config()

const groq = new Groq({apiKey: process.env.GROQ_KEY});

const chatCompletion = await groq.chat.completions.create({
  "messages": [
    {
      "role": "user",
      "content": " I want you to analyze these comments and divide them into 3 categories - agree, disagree, and neutral. Return the answer\n    in JSON format, with the corresponding number of comments for each field.\n    Generate the output as:\n    {\n      \"total\": xxx,\n      \"agree\": xxx,\n      \"neutral\": xxx,\n      \"disagree\": xxx\n    } Also summarize the reports from postive and negative comments. Mention if any other brands are mentioned, and what the are queries do the people have\n[\n  {\n    \"text\": \"Is it good for gaming?\",\n    \"date\": \"2025-05-28T18:45:25Z\"\n  },\n  {\n    \"text\": \"Subscribe cheythu karyanda üòÆ\",\n    \"date\": \"2025-05-24T15:19:10Z\"\n  },\n  {\n    \"text\": \"Thankss\",\n    \"date\": \"2025-05-17T10:59:06Z\"\n  },\n  {\n    \"text\": \"Tnku Bro..‚ù§Ô∏è\",\n    \"date\": \"2025-05-16T06:13:13Z\"\n  },\n  {\n    \"text\": \"üíôüíôüíôüíôüíô\",\n    \"date\": \"2025-05-11T04:53:50Z\"\n  },\n  {\n    \"text\": \"Bro enghneee Idh charge aaakaaa ‚Ä¶?\",\n    \"date\": \"2025-04-30T03:52:00Z\"\n  },\n  {\n    \"text\": \"Apple always love him ‚ù§Ô∏è\",\n    \"date\": \"2025-04-26T09:50:50Z\"\n  },\n  {\n    \"text\": \"iPhone 15 namuk vere charger vecg charge cheyyan pattoo üòä\",\n    \"date\": \"2025-04-22T07:44:21Z\"\n  },\n  {\n    \"text\": \"Vangitt thanne karyam üî•üî•\",\n    \"date\": \"2025-04-15T12:08:27Z\"\n  },\n  {\n    \"text\": \"Watching on iPhone 15\",\n    \"date\": \"2025-04-14T12:56:07Z\"\n  },\n  {\n    \"text\": \"Thnks broiiüôè‚ù§\",\n    \"date\": \"2025-04-11T03:45:36Z\"\n  },\n  {\n    \"text\": \"Thank you bro ‚ù§\",\n    \"date\": \"2025-04-04T10:21:38Z\"\n  },\n  {\n    \"text\": \"S25+ or i phone 15??full of confusionü•≤\",\n    \"date\": \"2025-04-03T13:53:02Z\"\n  },\n  {\n    \"text\": \"‚ù§‚ù§‚ù§\",\n    \"date\": \"2025-04-02T12:29:54Z\"\n  },\n  {\n    \"text\": \"Which is better iphone15 or x200 plz reply guys\",\n    \"date\": \"2025-04-01T11:03:09Z\"\n  },\n  {\n    \"text\": \"16 plus vs 15 pro max\",\n    \"date\": \"2025-03-26T08:50:15Z\"\n  },\n  {\n    \"text\": \"S23 or iphone 15\",\n    \"date\": \"2025-03-14T13:26:27Z\"\n  },\n  {\n    \"text\": \"Yeth series annu better chetta\",\n    \"date\": \"2025-03-03T06:05:51Z\"\n  },\n  {\n    \"text\": \"4:43 üìà\",\n    \"date\": \"2025-03-02T11:51:55Z\"\n  },\n  {\n    \"text\": \"Watching 2025 üòÇ\",\n    \"date\": \"2025-02-28T15:50:01Z\"\n  },\n  {\n    \"text\": \"I love a good   kislux   because it helps me decide if I want to buy the real thing or NOT.\\\" That part right there. That's IT. I feel like people stigmatize dupes but for me, I pause on large purchases that are trendy or when I feel the overconsumption mania setting in FOR ME. (It's something I struggle with LOL! I'm easily convinced to buy things I don't wear or use. They'll literally have the tags and I'll even forget I bought something and have 2 or 3 of them in my closet.) Love this video!\",\n    \"date\": \"2025-02-17T16:53:47Z\"\n  },\n  {\n    \"text\": \"IPhone 15 plus review cheyo bro\",\n    \"date\": \"2025-02-17T14:17:32Z\"\n  },\n  {\n    \"text\": \"128 gb storage review parayoo???\\nIs it good or 256 gb ano nallathe?\",\n    \"date\": \"2025-02-13T14:05:02Z\"\n  },\n  {\n    \"text\": \"Im watching my 15 plus\",\n    \"date\": \"2025-02-13T09:24:25Z\"\n  },\n  {\n    \"text\": \"Watching from my Iphone 15 ‚ù§\",\n    \"date\": \"2025-02-09T18:54:31Z\"\n  },\n  {\n    \"text\": \"‡¥∂‡¥∞‡¥ø‡¥Ø‡¥æ‡¥£‡µç ‡¥Ü‡¥™‡µç‡¥™‡¥ø‡¥≥‡¥ø‡¥®‡µç ‡¥à‡¥ó‡µã ‡¥ï‡µÇ‡¥ü‡µÅ‡¥§‡¥≤‡¥æ\",\n    \"date\": \"2025-02-07T15:45:40Z\"\n  },\n  {\n    \"text\": \"I phone 13pro or 15 which one is best for video and photography please reply\",\n    \"date\": \"2025-02-05T03:00:36Z\"\n  },\n  {\n    \"text\": \"I was tempted because my friend is black and she is often asked if her bag is fake. People just immediately assume they are. Even though I'm white, I still get people asking me if my bag is real. So I thought why should I spend so much money on these bags? So in the end I chose to buy it at   kislux   . Even if it is not the original, some replicas can have special emotional value because they are connected to specific memories\",\n    \"date\": \"2025-01-29T05:49:50Z\"\n  },\n  {\n    \"text\": \"‡¥µ‡¥≥‡¥∞‡µÜ ‡¥®‡¥≤‡µç‡¥≤ ‡¥´‡µã‡¥£‡¥æ‡¥£‡µç. 55000 ‡¥®‡µÅ ‡¥®‡¥≤‡µç‡¥≤‡µä‡¥∞‡µÅ  iPhone ‡¥Ü‡¥£‡µç 15.\",\n    \"date\": \"2025-01-28T18:35:52Z\"\n  },\n  {\n    \"text\": \"Battery 25% to 95% charge chaiyunne ano perfect...?\",\n    \"date\": \"2025-01-26T12:54:10Z\"\n  },\n  {\n    \"text\": \"iPhone 15  aano atho iPhone 15plus ano?? Oru doubt üò¢\",\n    \"date\": \"2025-01-23T09:06:58Z\"\n  },\n  {\n    \"text\": \"2.16M ayi\",\n    \"date\": \"2025-01-22T07:46:19Z\"\n  },\n  {\n    \"text\": \"iPhone 14 having display issues after update to IOS 18. Apple not ready to support\",\n    \"date\": \"2025-01-21T16:46:55Z\"\n  },\n  {\n    \"text\": \"3:37 üòÇ\",\n    \"date\": \"2025-01-20T16:30:16Z\"\n  },\n  {\n    \"text\": \"Card use cheyth engana 50 k kittua...\",\n    \"date\": \"2025-01-20T02:48:04Z\"\n  },\n  {\n    \"text\": \"I'd rather buy a $300 knockoff of a   kislux   and have $3000 in the bank. At the end of the day it's just a bag and will wear out like any other bag. The cost of the raw materials isn't that high. The real question is, how much do you value the authenticity?\",\n    \"date\": \"2025-01-19T15:46:06Z\"\n  },\n  {\n    \"text\": \"‡¥á‡¥™‡µç‡¥™‡µä‡µæ 59000 ‡¥∞‡µÇ‡¥™‡¥Ø‡¥æ‡¥£‡µç  .\",\n    \"date\": \"2025-01-19T15:10:10Z\"\n  },\n  {\n    \"text\": \"7:04 sathym ente 13 display poyi munji irikunna ente avstha ith thnne ipolüòÇ\",\n    \"date\": \"2025-01-10T06:38:29Z\"\n  },\n  {\n    \"text\": \"For those of you who read that not all fakes come from some kid-friendly (don't want comments to be flagged) companies, you can find some good stuff on   kislux   that people make themselves, and the replicas these days are getting better and better Excellent, both appearance and quality are very close to the original.\",\n    \"date\": \"2025-01-09T14:26:55Z\"\n  },\n  {\n    \"text\": \"Bro 15 or 16 ano nalath.. and 16 or 14pro .. nalath?\",\n    \"date\": \"2025-01-09T05:30:36Z\"\n  },\n  {\n    \"text\": \"My thought is that rich people are often rich because they invest and spend their money wisely, and buying a Chanel bag is not a wise move. I know I'm not rich enough, but my assets are enough that I can easily buy luxury goods in   kislux \",\n    \"date\": \"2025-01-08T17:44:09Z\"\n  },\n  {\n    \"text\": \"By comparing replicas with genuine items, you can learn how to identify the authenticity of a bag. I think   kislux   also has artistic value. This change allowed me to devote more resources to a true art collection while maintaining my own style.\",\n    \"date\": \"2025-01-08T00:36:38Z\"\n  },\n  {\n    \"text\": \"I use my   kislux   as a work bag and have had no issues at all. It√¢\\u0080\\u0099s a comfortable bag, fits a good amount and hadn√¢\\u0080\\u0099t lost its shape. With that being said, I also take care of all my bags and don√¢\\u0080\\u0099t carry a water bottle, pens, keys or anything that can damage the interio\",\n    \"date\": \"2025-01-07T03:30:46Z\"\n  },\n  {\n    \"text\": \"Watching iPhone 15\",\n    \"date\": \"2025-01-05T13:46:04Z\"\n  },\n  {\n    \"text\": \"Watching in iPhone 15\",\n    \"date\": \"2024-12-31T04:32:06Z\"\n  },\n  {\n    \"text\": \"Hi\",\n    \"date\": \"2024-12-29T12:28:11Z\"\n  },\n  {\n    \"text\": \"Watching on iPhone 15\",\n    \"date\": \"2024-12-26T19:28:30Z\"\n  },\n  {\n    \"text\": \"‚ù§\",\n    \"date\": \"2024-12-26T10:06:55Z\"\n  },\n  {\n    \"text\": \"100 like tharumo üò¢\",\n    \"date\": \"2024-12-21T05:42:32Z\"\n  },\n  {\n    \"text\": \"üéâ‚ù§\",\n    \"date\": \"2024-12-19T07:25:41Z\"\n  },\n  {\n    \"text\": \"11:19 üòÇü§£ü§£ü§£\",\n    \"date\": \"2024-12-11T18:03:25Z\"\n  },\n  {\n    \"text\": \"Bro all those pictures look really good I don‚Äôt know what you‚Äôre talking  about\",\n    \"date\": \"2024-12-09T05:27:23Z\"\n  },\n  {\n    \"text\": \"Bro 15 use chyiyuvvaruku speaker crackling issues undo\",\n    \"date\": \"2024-12-07T19:00:38Z\"\n  },\n  {\n    \"text\": \"Bro physical dual sim .... 15 oru vedio chyo\",\n    \"date\": \"2024-12-07T08:36:28Z\"\n  },\n  {\n    \"text\": \"Ente 2month kond 98‚Ä¢/. Ayyi only instagram and youtube mathram upayokikar ulluüò¢ valla idea indo arkelum\",\n    \"date\": \"2024-12-03T03:01:05Z\"\n  },\n  {\n    \"text\": \"‡¥π‡µÜ‡¥°‡µç\\u200c‡¥´‡µã‡¥£‡µÅ‡¥ï‡¥≥‡µÅ‡¥ü‡µÜ ‡¥µ‡µç‡¥Ø‡¥ï‡µç‡¥§‡¥§ mobile aayi ‡¥ï‡¥£‡¥ï‡µç‡¥±‡µç‡¥±‡¥æ‡¥®‡µã\",\n    \"date\": \"2024-12-01T17:32:39Z\"\n  },\n  {\n    \"text\": \"Subscribed\",\n    \"date\": \"2024-11-30T17:05:10Z\"\n  },\n  {\n    \"text\": \"15 ipozhum vela ann\",\n    \"date\": \"2024-11-30T07:03:36Z\"\n  },\n  {\n    \"text\": \"245 charge cycle still 100% helath\",\n    \"date\": \"2024-11-28T19:26:46Z\"\n  },\n  {\n    \"text\": \"Ennu enthe friend eduthu kollamüî•üî•\",\n    \"date\": \"2024-11-20T17:05:59Z\"\n  },\n  {\n    \"text\": \"Bro ningale abipraayathil ippol njaan iphone 15 idakkano ella 16 idakkano\",\n    \"date\": \"2024-11-18T15:11:57Z\"\n  },\n  {\n    \"text\": \"Annante thalayil oru love chinnam ‚ù§üòÇ\",\n    \"date\": \"2024-11-17T14:48:27Z\"\n  },\n  {\n    \"text\": \"Bro your iphone 15 inte case evida kittum super Mario\",\n    \"date\": \"2024-11-17T07:57:43Z\"\n  },\n  {\n    \"text\": \"Which is best color...green or black\",\n    \"date\": \"2024-11-15T08:40:14Z\"\n  },\n  {\n    \"text\": \"Iphone 15 ano nalle 15 plus aano\",\n    \"date\": \"2024-11-04T14:51:16Z\"\n  },\n  {\n    \"text\": \"iphone 15 or iphone 16?\",\n    \"date\": \"2024-11-03T13:41:38Z\"\n  },\n  {\n    \"text\": \"4 month of using iphone 15 very nice üëåüèª\",\n    \"date\": \"2024-11-01T00:10:35Z\"\n  },\n  {\n    \"text\": \"11:19 üòÇüòÇüòÇ\",\n    \"date\": \"2024-10-31T09:16:35Z\"\n  },\n  {\n    \"text\": \"13pro and 15better\",\n    \"date\": \"2024-10-27T13:28:41Z\"\n  },\n  {\n    \"text\": \"Which series is better..IPhone 15 or IPhone 16 ..... üôÇ onn paranj therua vangannaüòå\",\n    \"date\": \"2024-10-26T13:00:21Z\"\n  },\n  {\n    \"text\": \"Anyone facing ear speaker crackling sound issue in 15 models ? Please reply\",\n    \"date\": \"2024-10-23T14:09:22Z\"\n  },\n  {\n    \"text\": \"Thank you very much I am going to buy 15 pro max thanks\",\n    \"date\": \"2024-10-23T08:17:56Z\"\n  },\n  {\n    \"text\": \"Njan chaadiyittund ippo randum use cheyyunnu\",\n    \"date\": \"2024-10-22T17:07:35Z\"\n  },\n  {\n    \"text\": \"13pro or 15\",\n    \"date\": \"2024-10-19T10:10:56Z\"\n  },\n  {\n    \"text\": \"Subscribed üëçüèª\",\n    \"date\": \"2024-10-17T02:01:33Z\"\n  },\n  {\n    \"text\": \"‡¥á‡¥§‡µÅ‡¥µ‡¥∞‡µÜ 50,000 ‡¥§‡µç‡¥§‡¥ø‡¥≤‡µá‡¥ï‡µç‡¥ï‡µç ‡¥é‡¥§‡µç‡¥§‡¥ø‡¥Ø‡¥ø‡¥ü‡µç‡¥ü‡¥ø‡¥≤‡µç‡¥≤.. ‡¥á‡¥™‡µç‡¥™‡µã‡¥¥‡µÅ‡¥Ç 69‡¥®‡¥æ‡¥£‡µç ‡¥ï‡¥ö‡µç‡¥ö‡¥µ‡¥ü‡¥Ç ‡¥®‡¥ü‡¥ï‡µç‡¥ï‡µÅ‡¥®‡µç‡¥®‡¥§‡µç. ‡¥ï‡µç‡¥Ø‡¥æ‡¥∑‡µç ‡¥ï‡µä‡¥ü‡µÅ‡¥ï‡µç‡¥ï‡µÅ‡¥ï‡¥Ø‡¥æ‡¥£‡µÜ‡¥ô‡µç‡¥ï‡¥ø‡µΩ 62 500 ‡¥ï‡¥ø‡¥ü‡µç‡¥ü‡µÅ‡¥Ç\",\n    \"date\": \"2024-10-15T15:05:14Z\"\n  },\n  {\n    \"text\": \"üëçüèº\",\n    \"date\": \"2024-10-13T15:25:45Z\"\n  },\n  {\n    \"text\": \"I am a teenager.This video helped me a lot chetta‚ù§‚ù§\",\n    \"date\": \"2024-10-09T14:47:45Z\"\n  },\n  {\n    \"text\": \"Big billion ‡¥ï‡¥¥‡¥ø‡¥û‡µç‡¥û‡µç  iphone 15 ‡¥é‡¥ü‡µÅ‡¥§‡µç‡¥§‡µç ‡¥Ö‡¥§‡¥ø‡µΩ ‡¥®‡¥ø‡¥®‡µç‡¥®‡µç ‡¥ï‡¥æ‡¥£‡µÅ‡¥®‡µç‡¥®‡¥µ‡µº ‡¥â‡¥£‡µç‡¥ü‡µã üòá‚ù§Ô∏è\",\n    \"date\": \"2024-10-08T07:08:01Z\"\n  },\n  {\n    \"text\": \"‡¥â‡¥Æ‡µº ‡¥≤‡µÅ‡¥≤‡µÅ ‡¥§‡¥®‡µç‡¥®‡µÜ ‡¥®‡¥≤‡µç‡¥≤ ‡¥∞‡µÄ‡¥§‡¥ø‡¥Ø‡¥ø‡µΩ ‡¥ï‡¥≥‡¥ø‡¥Ø‡¥æ‡¥ï‡µç‡¥ï‡¥ø‡¥Ø‡¥≤‡µç‡¥≤‡µã ‡¥§‡¥®‡µç‡¥±‡µÜ ‡¥Æ‡µÅ‡¥ñ‡¥Ç ‡¥™‡µÅ‡¥ö‡µç‡¥õ‡¥Ç ‡¥™‡µã‡¥≤‡¥ø‡¥∞‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥ï‡¥Ø‡¥æ‡¥£‡µÜ‡¥®‡µç‡¥®‡µç ‡¥§‡¥®‡¥ø‡¥ï‡µç‡¥ï‡¥ø‡¥§‡µç ‡¥ï‡µá‡¥ü‡µç‡¥ü‡¥ø‡¥ü‡µç‡¥ü‡µç ‡¥µ‡¥ø‡¥∑‡¥Æ‡¥Æ‡¥ø‡¥≤‡µç‡¥≤‡¥Ø‡µã\",\n    \"date\": \"2024-09-30T08:36:09Z\"\n  },\n  {\n    \"text\": \"I phone 15 plus new real price ?\",\n    \"date\": \"2024-09-30T08:13:38Z\"\n  },\n  {\n    \"text\": \"Pubg dayli kalichal pani. Avo\",\n    \"date\": \"2024-09-29T14:35:25Z\"\n  },\n  {\n    \"text\": \"Thanks for this review ‚ò∫Ô∏èü´∂\",\n    \"date\": \"2024-09-29T13:20:52Z\"\n  },\n  {\n    \"text\": \"LoosemotionüòÖüòÖüòÖüòÖ\",\n    \"date\": \"2024-09-29T06:44:01Z\"\n  },\n  {\n    \"text\": \"iPhone 15 or s23 game kalikum, nalla camera vennam.. Guys opinion??\",\n    \"date\": \"2024-09-28T05:36:27Z\"\n  },\n  {\n    \"text\": \"Poorr\",\n    \"date\": \"2024-09-28T01:20:08Z\"\n  },\n  {\n    \"text\": \"Because of you i bought iphone 15‚ù§Ô∏èthanku so much shazzam broüíØ\",\n    \"date\": \"2024-09-27T18:08:06Z\"\n  },\n  {\n    \"text\": \"eyalu alle thalliyathu iphone 13  bhayakara kidilam anennu...eppo parayunnu athu kollathilla ennu...enthuvade\",\n    \"date\": \"2024-09-27T09:16:22Z\"\n  },\n  {\n    \"text\": \"broo 13pro ohhh seen ondohh ippp edukan\",\n    \"date\": \"2024-09-27T08:28:39Z\"\n  },\n  {\n    \"text\": \"üíù\",\n    \"date\": \"2024-09-27T06:34:24Z\"\n  },\n  {\n    \"text\": \"Hi photo edukkunnathinu priority kodukkuvanengi which one is the best option??\\nKindly suggest...\",\n    \"date\": \"2024-09-27T02:09:01Z\"\n  },\n  {\n    \"text\": \"Correct aaarnnu.. 55000\",\n    \"date\": \"2024-09-26T20:10:36Z\"\n  },\n  {\n    \"text\": \"13 pro aano 15 aano better\",\n    \"date\": \"2024-09-26T20:07:03Z\"\n  },\n  {\n    \"text\": \"Njn inn order aakki 54999 ‚ù§\",\n    \"date\": \"2024-09-26T16:13:17Z\"\n  },\n  {\n    \"text\": \"Thanks bo‚ù§Ô∏è\\u200düî•ü´Çü•π\",\n    \"date\": \"2024-09-26T12:31:00Z\"\n  },\n  {\n    \"text\": \"Bbd sale 24 in 55k anu\",\n    \"date\": \"2024-09-26T03:03:13Z\"\n  },\n  {\n    \"text\": \"Big billionil 15 edthver undo\",\n    \"date\": \"2024-09-25T21:12:48Z\"\n  },\n  {\n    \"text\": \"3 years aayt iphone 13 updayogikkunnu!! Display is still flawless ‚ù§‚ù§ Overall still excellent condition\",\n    \"date\": \"2024-09-23T19:34:39Z\"\n  },\n  {\n    \"text\": \"Which clr best\",\n    \"date\": \"2024-09-23T05:16:39Z\"\n  },\n  {\n    \"text\": \"Help 15 price 69 k an ini kuryan chance ndo ?\",\n    \"date\": \"2024-09-21T06:45:23Z\"\n  }\n]"
    },
  ],
  "model": "deepseek-r1-distill-llama-70b",
  "temperature": 0.6,
  "max_completion_tokens": 4096,
  "top_p": 0.95,
  "stream": true,
  "stop": null
});

for await (const chunk of chatCompletion) {
  process.stdout.write(chunk.choices[0]?.delta?.content || '');
}

